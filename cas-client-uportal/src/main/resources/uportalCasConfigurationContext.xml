<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC  "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

    <bean
            id="propertyPlaceholderConfigurer"
            class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property
                name="location"
                value="/WEB-INF/properties/cas-client.properties"/>
    </bean>

    <bean
            id="casTicketValidator"
            class="org.jasig.cas.client.validation.Cas20ServiceTicketValidator">
        <constructor-arg index="0" value="${cas.server.url}"/>
        <constructor-arg index="1" value="false"/>
        <constructor-arg index="2" ref="httpClient"/>
        <constructor-arg index="3">
            <bean
                    class="org.jasig.cas.authentication.principal.SimpleService">
                <constructor-arg value="${cas.server.proxyCallbackUrl}"/>
            </bean>

        </constructor-arg>
        <constructor-arg index="4" ref="casProxyGrantingTicketStorage"/>
    </bean>

    <bean
            id="casProxyGrantingTicketStorage"
            class="org.jasig.cas.client.proxy.ProxyGrantingTicketStorageImpl"/>


    <bean
            id="casProxyReceiver"
            class="org.jasig.cas.client.proxy.Cas20ProxyRetriever">
        <constructor-arg value="${cas.server.url}"/>
        <constructor-arg ref="httpClient"/>
    </bean>

    <bean
            id="httpClient"
            class="org.jasig.cas.util.HttpClient3FactoryBean">
        <property
                name="soTimeout"
                value="5000"/>
        <property
                name="connectionTimeout"
                value="5000"/>
        <property
                name="connectionManagerTimeout"
                value="5000"/>
        <property
                name="defaultMaxConnectionsPerHost"
                value="10"/>
        <property
                name="maxTotalConnections"
                value="10"/>
    </bean>

    <bean
            id="casService"
            class="org.jasig.cas.authentication.principal.SimpleService">
        <constructor-arg value="https://localhost:8443/portal/Authentication"/>
    </bean>
</beans>