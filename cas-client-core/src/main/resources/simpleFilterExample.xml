<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="propertyPlaceholderConfigurer"
          class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location"
                  value="/WEB-INF/cas-client.properties"/>
    </bean>

    <bean id="ticketValidator"
          class="org.jasig.cas.client.validation.Cas20ServiceTicketValidator">
        <constructor-arg index="0" value="${cas.server.url}"/>
        <constructor-arg index="1" value="false"/>
        <constructor-arg index="2">
            <bean class="org.jasig.cas.util.HttpClient3FactoryBean"/>
        </constructor-arg>
        <constructor-arg index="3">
            <bean
                    class="org.jasig.cas.authentication.principal.SimpleService">
                <constructor-arg value="${cas.server.proxyCallbackUrl}"/>
            </bean>
        </constructor-arg>
        <constructor-arg index="4" ref="proxyGrantingTicketStorage"/>
    </bean>

    <bean id="proxyGrantingTicketStorage"
          class="org.jasig.cas.client.proxy.ProxyGrantingTicketStorageImpl"/>

    <bean
            id="casHttpServletRequestWrapperFilter"
            class="org.jasig.cas.client.web.filter.HttpServletRequestWrapperFilter"/>

    <bean
            id="casValidationFilter"
            class="org.jasig.cas.client.web.filter.TicketValidationFilter">
        <constructor-arg index="0" value="localhost:8443"/>
        <constructor-arg index="1">
            <null/>
        </constructor-arg>
        <constructor-arg index="2" ref="ticketValidator"/>
    </bean>

    <bean
            id="casAuthenticationFilter"
            class="org.jasig.cas.client.web.filter.AuthenticationFilter">
        <constructor-arg index="0" value="localhost:8443"/>
        <constructor-arg index="1">
            <null/>
        </constructor-arg>
        <constructor-arg index="2" value="${cas.server.url}login"/>
        <constructor-arg index="3" value="false"/>
        <constructor-arg index="4" value="false"/>
    </bean>

    <bean
            id="casAuthorizationFilter"
            class="org.jasig.cas.client.web.filter.AuthorizationFilter">
        <constructor-arg index="0" ref="decider"></constructor-arg>
    </bean>

    <bean
            id="decider"
            class="org.jasig.cas.client.authorization.DefaultAuthorizedDeciderImpl">
        <constructor-arg index="0">
            <list>
                <value>battags</value>
            </list>
        </constructor-arg>
    </bean>
</beans>